{"ast":null,"code":"var _jsxFileName = \"/home/dk/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/w/sity-weather/src/components/form/form.js\";\nimport React, { Component } from \"react\";\nimport Weather from \"../weather/weather\";\nlet appId = '887a9e3fcec30ecb5238bc4f492dcf5b';\nexport default class Form extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getDataWeather = async e => {\n      e.preventDefault();\n      const city = this.state.city;\n      const api_call = await fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \"&appid=\").concat(appId, \"&units=metric\"));\n      const response = await api_call.json();\n      this.setState({\n        city: ''\n      });\n      console.log(response);\n\n      if (city) {\n        this.setState({\n          temperature: response.main.temp,\n          city: response.name,\n          humidity: response.main.humidity,\n          description: response.weather[0].description,\n          wind: response.wind.speed,\n          icon: response.weather[0].icon,\n          error: \"\"\n        });\n      } else {\n        this.setState({\n          error: \"Данные не введены , введите город\"\n        });\n      }\n    };\n\n    this.state = {\n      city: '',\n      temp: null\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"form\", {\n      onSubmit: this.props.loadWeather,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434\",\n      onChange: this.props.inputChange,\n      value: this.props.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u043F\\u043E\\u0433\\u043E\\u0434\\u0443\")));\n  }\n\n}","map":{"version":3,"sources":["/home/dk/Рабочий стол/w/sity-weather/src/components/form/form.js"],"names":["React","Component","Weather","appId","Form","constructor","props","getDataWeather","e","preventDefault","city","state","api_call","fetch","response","json","setState","console","log","temperature","main","temp","name","humidity","description","weather","wind","speed","icon","error","render","loadWeather","inputChange","value"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAGA,IAAIC,KAAK,GAAG,kCAAZ;AAEA,eAAe,MAAMC,IAAN,SAAmBH,SAAnB,CAA4B;AAE1CI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAUnBC,cAVmB,GAUF,MAAMC,CAAN,IAAY;AAC5BA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,IAAI,GAAG,KAAKC,KAAL,CAAWD,IAAxB;AACA,YAAME,QAAQ,GAAG,MAAMC,KAAK,4DAAqDH,IAArD,oBAAmEP,KAAnE,mBAA5B;AACA,YAAMW,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAvB;AACA,WAAKC,QAAL,CAAc;AACbN,QAAAA,IAAI,EAAE;AADO,OAAd;AAGAO,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;;AACA,UAAIJ,IAAJ,EAAU;AACT,aAAKM,QAAL,CAAc;AACdG,UAAAA,WAAW,EAAEL,QAAQ,CAACM,IAAT,CAAcC,IADb;AAEdX,UAAAA,IAAI,EAAEI,QAAQ,CAACQ,IAFD;AAGdC,UAAAA,QAAQ,EAAET,QAAQ,CAACM,IAAT,CAAcG,QAHV;AAIdC,UAAAA,WAAW,EAAEV,QAAQ,CAACW,OAAT,CAAiB,CAAjB,EAAoBD,WAJnB;AAKdE,UAAAA,IAAI,EAAEZ,QAAQ,CAACY,IAAT,CAAcC,KALN;AAMdC,UAAAA,IAAI,EAAEd,QAAQ,CAACW,OAAT,CAAiB,CAAjB,EAAoBG,IANZ;AAOdC,UAAAA,KAAK,EAAE;AAPO,SAAd;AASA,OAVD,MAUO;AACN,aAAKb,QAAL,CAAc;AACda,UAAAA,KAAK,EAAE;AADO,SAAd;AAGA;AACD,KAlCkB;;AAElB,SAAKlB,KAAL,GAAa;AACZD,MAAAA,IAAI,EAAE,EADM;AAEZW,MAAAA,IAAI,EAAE;AAFM,KAAb;AAIA;;AAgCDS,EAAAA,MAAM,GAAE;AACPb,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAjB;AACA,WACC;AAAM,MAAA,QAAQ,EAAE,KAAKA,KAAL,CAAWyB,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,2EAA/B;AACE,MAAA,QAAQ,EAAE,KAAKzB,KAAL,CAAW0B,WADvB;AAEE,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAW2B,KAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+FAAL,CALD,CADD;AASA;;AAnDyC","sourcesContent":["import React,{Component} from \"react\";\nimport Weather from \"../weather/weather\";\n\n\nlet appId = '887a9e3fcec30ecb5238bc4f492dcf5b';\n\nexport default class Form extends Component{\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcity: '',\n\t\t\ttemp: null\n\t\t};\n\t}\n\n\t\n\n\tgetDataWeather = async(e) => {\n\t\te.preventDefault();\n\t\tconst city = this.state.city;\n\t\tconst api_call = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${appId}&units=metric`);\n\t\tconst response = await api_call.json();\n\t\tthis.setState({\n\t\t\tcity: ''\n\t\t})\n\t\tconsole.log(response);\n\t\tif (city) {\n\t\t\tthis.setState({\n\t\t\ttemperature: response.main.temp,\n\t\t\tcity: response.name,\n\t\t\thumidity: response.main.humidity,\n\t\t\tdescription: response.weather[0].description,\n\t\t\twind: response.wind.speed,\n\t\t\ticon: response.weather[0].icon,\n\t\t\terror: \"\"\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\terror: \"Данные не введены , введите город\"\n\t\t\t});\n\t\t}\n\t}\n\t\n\t\n\n\trender(){\n\t\tconsole.log(this.props)\n\t\treturn(\n\t\t\t<form onSubmit={this.props.loadWeather}>\n\t\t\t\t<input type=\"text\" placeholder=\"Введите город\"\n\t\t\t\t\t\tonChange={this.props.inputChange}\n\t\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t/>\n\t\t\t\t<div><button>Получить погоду</button></div>\n\t\t\t</form>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}