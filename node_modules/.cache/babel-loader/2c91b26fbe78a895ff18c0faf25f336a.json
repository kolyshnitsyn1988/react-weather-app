{"ast":null,"code":"// let appId = 'eff5ff9800091688b062ca5b10260d8e';\n//  new key = 887a9e3fcec30ecb5238bc4f492dcf5b\n// let units = 'imperial';\n// let searchMethod;\n// function getWeather(searchTerm){\n// \tfetch(`api.openweathermap.org/data/2.5/weather?q=London,uk&APPID=887a9e3fcec30ecb5238bc4f492dcf5b`)\n// \t\t.then((res) => {\n// \t\t\treturn res.json();\n// \t\t});\n// \tconsole.log(res);\n// }\nexport default class WeatherService {\n  constructor() {\n    this._apiBase = 'api.openweathermap.org/data/2.5/weather?q=London,uk&APPID=887a9e3fcec30ecb5238bc4f492dcf5b';\n  }\n\n  // http://api.openweathermap.org/data/2.5/forecast?id=524901&APPID={APIKEY}\n  async getResource(url) {\n    const res = await fetch(\"\".concat(this._apiBase).concat(url));\n\n    if (!res.ok) {\n      throw new Error(\"\\u0437\\u0430\\u043F\\u0440\\u043E\\u0441 \\u043D\\u0435 \\u043F\\u0440\\u043E\\u0448\\u0435\\u043B \".concat(url, \" \") + \", received \".concat(res.status));\n    }\n\n    return await res.json();\n    console.log(res);\n  }\n\n}\nconst city = new WeatherService();\ncity.getResource().then(body => {\n  console.log(body);\n});","map":{"version":3,"sources":["/home/dk/Рабочий стол/w/sity-weather/src/services/weather-service.js"],"names":["WeatherService","_apiBase","getResource","url","res","fetch","ok","Error","status","json","console","log","city","then","body"],"mappings":"AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,eAAe,MAAMA,cAAN,CAAoB;AAAA;AAAA,SAGlCC,QAHkC,GAGvB,4FAHuB;AAAA;;AAIlC;AACA,QAAMC,WAAN,CAAkBC,GAAlB,EAAsB;AACrB,UAAMC,GAAG,GAAG,MAAMC,KAAK,WAAI,KAAKJ,QAAT,SAAoBE,GAApB,EAAvB;;AAEA,QAAI,CAACC,GAAG,CAACE,EAAT,EAAa;AACZ,YAAM,IAAIC,KAAJ,CAAU,iGAAoBJ,GAApB,8BACFC,GAAG,CAACI,MADF,CAAV,CAAN;AAEA;;AACD,WAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAZ;AACA;;AAfiC;AA4BnC,MAAMQ,IAAI,GAAG,IAAIZ,cAAJ,EAAb;AAEAY,IAAI,CAACV,WAAL,GAAmBW,IAAnB,CAAyBC,IAAD,IAAS;AAChCJ,EAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AACA,CAFD","sourcesContent":["\n// let appId = 'eff5ff9800091688b062ca5b10260d8e';\n//  new key = 887a9e3fcec30ecb5238bc4f492dcf5b\n// let units = 'imperial';\n\n// let searchMethod;\n\n\n// function getWeather(searchTerm){\n// \tfetch(`api.openweathermap.org/data/2.5/weather?q=London,uk&APPID=887a9e3fcec30ecb5238bc4f492dcf5b`)\n// \t\t.then((res) => {\n// \t\t\treturn res.json();\n// \t\t});\n// \tconsole.log(res);\n// }\n\n\n\nexport default class WeatherService{\n\t\n\t\n\t_apiBase = 'api.openweathermap.org/data/2.5/weather?q=London,uk&APPID=887a9e3fcec30ecb5238bc4f492dcf5b';\n\t// http://api.openweathermap.org/data/2.5/forecast?id=524901&APPID={APIKEY}\n\tasync getResource(url){\n\t\tconst res = await fetch(`${this._apiBase}${url}`);\n\n\t\tif (!res.ok)\t{\n\t\t\tthrow new Error(`запрос не прошел ${url} ` +\n\t\t\t`, received ${res.status}`)\n\t\t}\n\t\treturn await res.json();\n\n\t\tconsole.log(res);\n\t};\n\n\t// api.openweathermap.org/data/2.5/weather?q={city name}\n\t// getCityId(id){\n\t// \treturn this.getResource(`https://api.openweathermap.org/data/2.5/weather?${id}`);\n\t// }\n\n\t// getFirstResourse(){\n\t// \treturn this.getResource(`id=524901&APPID=${APIKEY}`);\n\t// }\n\n}\n\nconst city = new WeatherService();\n\ncity.getResource().then((body) =>{\n\tconsole.log(body)\n})\n\n"]},"metadata":{},"sourceType":"module"}