{"ast":null,"code":"var _jsxFileName = \"/home/dk/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/w/sity-weather/src/components/data-weather/data-weather.js\";\nimport React, { Component } from 'react';\nimport './data-weather.css';\nimport Form from '../form/form';\nimport Weather from '../weather/weather';\nimport ErrorInc from '../error-inc/error-inc';\nlet appId = '887a9e3fcec30ecb5238bc4f492dcf5b';\nexport default class DataWeather extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onInputChange = e => {\n      this.setState({\n        city: e.target.value\n      });\n    };\n\n    this.getDataWeather = async e => {\n      e.preventDefault();\n      const city = this.state.city;\n      const result = await fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \"&appid=\").concat(appId, \"&units=metric\"));\n\n      if (!result.ok) {\n        return React.createElement(ErrorInc, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        });\n      }\n\n      return result.json(); // const response = await api_call.json();\n      // if (city) {\n      // \tthis.setState({\n      // \t\ttemp: result.main.temp,\n      // \t\tcity: result.name,\n      // \t\thumidity: result.main.humidity,\n      // \t\tdescription: result.weather[0].description,\n      // \t\twind: result.wind.speed,\n      // \t\ticon: result.weather[0].icon,\n      // \t\terror: null\n      // \t});\n      // } else {\n      // \treturn <ErrorInc />;\n      // }\n    };\n\n    this.state = {\n      temp: null,\n      city: null,\n      humidity: null,\n      description: null,\n      wind: null,\n      icon: null,\n      error: null\n    };\n  }\n\n  componentDidCatch() {\n    this.setState({\n      error: true\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          temp = _this$state.temp,\n          city = _this$state.city,\n          humidity = _this$state.humidity,\n          description = _this$state.description,\n          wind = _this$state.wind,\n          icon = _this$state.icon,\n          error = _this$state.error;\n    const errorMessage = error ? React.createElement(ErrorInc, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }) : null;\n    return React.createElement(\"div\", {\n      className: \"form_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Form, {\n      loadWeather: this.getDataWeather,\n      inputChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Weather, {\n      temp: this.state.temp,\n      humidity: this.state.humidity,\n      city: this.setState.city,\n      description: this.state.description,\n      wind: this.state.wind,\n      icon: this.state.icon,\n      error: this.state.error,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/dk/Рабочий стол/w/sity-weather/src/components/data-weather/data-weather.js"],"names":["React","Component","Form","Weather","ErrorInc","appId","DataWeather","constructor","props","onInputChange","e","setState","city","target","value","getDataWeather","preventDefault","state","result","fetch","ok","json","temp","humidity","description","wind","icon","error","componentDidCatch","render","errorMessage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport './data-weather.css';\n\nimport Form from '../form/form';\nimport Weather from '../weather/weather';\nimport ErrorInc from '../error-inc/error-inc';\n\nlet appId = '887a9e3fcec30ecb5238bc4f492dcf5b';\n\nexport default class DataWeather extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\ttemp: null,\n\t\t\tcity: null,\n\t\t\thumidity: null,\n\t\t\tdescription: null,\n\t\t\twind: null,\n\t\t\ticon: null,\n\t\t\terror: null\n\t\t};\n\t};\n\t\n\tonInputChange = (e) => {\n\t\tthis.setState({\n\t\t\tcity: e.target.value\n\t\t});\n\t};\n\n\tcomponentDidCatch(){\n\t\tthis.setState({\n\t\t\terror: true\n\t\t});\n\t}\n\t\n\tgetDataWeather = async(e) => {\n\t\te.preventDefault();\n\t\tconst {city} = this.state;\n\t\tconst result = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${appId}&units=metric`);\n\t\tif(!result.ok){\n\t\t\treturn <ErrorInc />\n\t\t}\n\t\treturn result.json();\n\t\t// const response = await api_call.json();\n\t\t\n\n\n\n\t\t// if (city) {\n\t\t// \tthis.setState({\n\t\t// \t\ttemp: result.main.temp,\n\t\t// \t\tcity: result.name,\n\t\t// \t\thumidity: result.main.humidity,\n\t\t// \t\tdescription: result.weather[0].description,\n\t\t// \t\twind: result.wind.speed,\n\t\t// \t\ticon: result.weather[0].icon,\n\t\t// \t\terror: null\n\t\t// \t});\n\t\t// } else {\n\t\t// \treturn <ErrorInc />;\n\t\t// }\n\t};\n\n\trender() {\n\n\t\tconst {temp,\n\t\t\tcity,\n\t\t\thumidity,\n\t\t\tdescription,\n\t\t\twind,\n\t\t\ticon,\n\t\t\terror} = this.state;\n\n\t\tconst errorMessage = error ? <ErrorInc/> : null\n\n\t\treturn (\n\t\t\t<div className=\"form_wrapper\">\n\t\t\t\t<div className=\"form_container\">\n\t\t\t\t\t<Form\n\t\t\t\t\t\tloadWeather={this.getDataWeather} \n\t\t\t\t\t\tinputChange={this.onInputChange} />\n\t\t\t\t\t<Weather \n\t\t\t\t\t\ttemp={this.state.temp} \n\t\t\t\t\t\thumidity={this.state.humidity}\n\t\t\t\t\t\tcity={this.setState.city}\n\t\t\t\t\t\tdescription={this.state.description}\n\t\t\t\t\t\twind={this.state.wind}\n\t\t\t\t\t\ticon={this.state.icon}\n\t\t\t\t\t\terror={this.state.error} />\n           \t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t)\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}